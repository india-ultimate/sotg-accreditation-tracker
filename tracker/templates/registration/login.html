{% extends "tracker/base.html" %}
{% load crispy_forms_tags %}
{% block content %}

    {% if next %}
        <div class="alert alert-warning" role="alert">
            {% if user.is_authenticated %}
                Your account doesn't have access to this page. To proceed,
                please login with an account that has access.
            {% else %}
                Please login to view this page.
            {% endif %}
        </div>
    {% endif %}


    <div class="row">
        <div class="col-3">
        </div>
        <div class="col-6 alert alert-primary" role="alert">
            Login using your <a href="https://indiaultimate.org">indiaultimate.org</a> credentials
        </div>
    </div>

    <div class="row">
        <div class="col-3">
        </div>
        {% crispy form %}
    </div>

    <div class="row">
        <div class="col-3">
        </div>
        <div class="col-6">
            <div class="alert alert-warning text-justify" role="alert">
                We don't save your <span class="text-muted">indiaultimate.org</span>
                credentials in our DB. We only use them to authenticate against
                the Ultimate Central site.
            </div>
            <div class="alert alert-info text-justify" role="alert">
                Ultimate Central has a beta implementation of OAuth2, and
                requires us to ask for your password, unlike the OAuth2
                implementations by other providers like Google or Facebook.
                The API spec provided by Ultimate Central is <a href="https://docs.google.com/document/d/148SFmTpsdon5xoGpAeNCokrpaPKKOSDtrLNBHOIq5c4/edit#heading=h.px865pu3sfvw">here</a>,
                and our code for authentication is <a href="https://github.com/thatte-idli-kaal-soup/sotg-accreditation-tracker/blob/master/tracker/auth.py">here</a>, in case you are curious.
            </div>
        </div>
    </div>
{% endblock %}
